<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Available Bids - CargoLink</title>
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/layout.css">
  <link rel="stylesheet" href="/css/admin.css">
  <link rel="icon" type="image/icon" class="logo" href="/img/logo.svg">

</head>
<body>
  <%- include('../partials/header') %>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Search and Filter Section -->
            <section class="filter-section">
                <div class="section-header">
                    <h2>Order Management</h2>
                    <button class="refresh-btn" id="refreshBtn">‚ü≥ Refresh</button>
                </div>
                <div class="search-filter">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Search by order ID, customer, or location...">
                        <span class="search-icon">üîç</span>
                    </div>
                    <div class="filter-controls">
                        <div class="filter-group">
                            <label>Status:</label>
                            <select class="status-filter" id="statusFilter">
                                <option value="">All Statuses</option>
                                <!-- <option value="pending">Pending</option> -->
                                <option value="In Transit">In Transit</option>
                                <option value="Assigned">Assigned</option>
                                <option value="Completed">Completed</option>
                                <option value="Placed">Placed</option>                                
                                <!-- <option value="cancelled">Cancelled</option> -->
                            </select>
                        </div>
                        
                        <button class="apply-btn" id="applyBtn">Apply Filters</button>
                    </div>
                </div>
            </section>

            <!-- Orders Table -->
            <div class="orders-table-container">
                <table class="orders-table">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Customer</th>
                            <th>Pickup Location</th>
                            <th>Delivery Location</th>
                            <th>Created Date</th>
                            <th>Status</th>
                            <th>Bids</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data will be loaded dynamically -->
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <!-- Order Details Modal -->
    <div class="admin-modal" id="orderModal">
        <div class="admin-modal-content">
            <div class="admin-modal-header">
                <h3>Order Details - <span id="admin-modalOrderId"></span></h3>
                <span class="close-admin-modal">&times;</span>
            </div>
            <div class="admin-modal-body">
                <div class="order-details">
                    <div class="detail-row">
                        <span class="detail-label">Customer:</span>
                        <span id="detail-customer"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Pickup Location:</span>
                        <span id="detail-pickup"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Delivery Location:</span>
                        <span id="detail-delivery"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Created Date:</span>
                        <span id="detail-date"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Status:</span>
                        <span id="detail-status"></span>
                    </div>
                </div>
                
                <h4>Bids</h4>
                <table class="bids-table">
                    <thead>
                        <tr>
                            <th>Transporter</th>
                            <th>Bid Amount</th>
                            <th>Bid Time</th>
                        </tr>
                    </thead>
                    <tbody id="bids-table-body">
                        <!-- Bids will be loaded here -->
                    </tbody>
                </table>
            </div>
            <div class="admin-modal-footer">
                <button class="close-btn">Close</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <%- include('../partials/footer') %>

    <script src="/js/main.js"></script>
    <script src="/js/adminOrders.js"></script>
</body>
</html>